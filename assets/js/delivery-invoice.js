var deliveryInvoice=()=>{class l{constructor(){this["template-1"]=document.querySelector("delivery-invoice #template-1"),this["template-2"]=document.querySelector("delivery-invoice #template-2"),this.templates=document.querySelectorAll("delivery-invoice [name='templates']"),this.currency=document.querySelector("delivery-invoice [com-fm='currency']"),this.logo=document.querySelector("delivery-invoice [com-fm='logo']"),this.signature=document.querySelector("delivery-invoice [com-fm='signature']"),this.header=document.querySelector("delivery-invoice [com-fm='header']"),this["delivery-from"]=document.querySelector("delivery-invoice [com-fm='delivery-from']"),this["delivery-to"]=document.querySelector("delivery-invoice [com-fm='delivery-to']"),this["delivery-platform"]=document.querySelector("delivery-invoice [com-fm='delivery-platform']"),this.items=document.querySelector("delivery-invoice [com-fm='items']"),this.tax=document.querySelector("delivery-invoice [com-fm='tax']"),this["download-pdf"]=document.querySelector("delivery-invoice #download-pdf"),this["spinner-grow"]=document.querySelector("delivery-invoice .spinner-grow"),this["download-text"]=document.querySelector("delivery-invoice .download-text"),this["data-fm"]=document.querySelectorAll("delivery-invoice [data-fm]"),this["modal-btn"]=document.querySelector("delivery-invoice #modal-btn"),this["modal-template"]=document.querySelector("delivery-invoice #modal-template")}}let m={},a={},n={},r=new Date,c,o="delivery-invoice",t,i="delivery-invoice-data.js";let d=!1,u=!1,s=!1,y={};var v=e=>{let a=!0,r=document.getElementsByClassName("validation-message");Object.keys(r).some(function(e){var t;if("block"==r[e].style.display)return t="ErrorAdress"==r[e].id?130:80,t=r[e].getBoundingClientRect().top+window.pageYOffset-t,window.scrollTo({top:t,behavior:"smooth"}),a=!1,r[e].previousElementSibling.focus(),!0}),a?e(!0,"Template ready"):e(!1,"Template not ready")},f=e=>{m["spinner-grow"].style.display="none",m["download-text"].innerHTML="Download"},q=(l,e)=>{var t=m[l].querySelector("[data-fm='add-item']");let c=m[l].querySelector(".items-wrap"),o=1;var a=n[l][0].querySelectorAll(".item").length;let i=m[l].querySelector(".items-wrap > .item-1"),r=n[l][0].querySelector(".item");if(!r)return 0;1<=a&&n[l].forEach(e=>{e.querySelectorAll(".item").forEach((e,t)=>{var a,r;if(0==t&&(a=i.querySelector(".item-remove"),r=document.querySelectorAll(`[com-fm="${l}"] .items-wrap .item-1 [data-fm]`),a.addEventListener("click",e=>{var t=document.querySelector(`[com-fm="${l}"] .items-wrap .item-1`);t.parentNode.removeChild(t),document.querySelectorAll(`[com-tm="${l}"] .item-1`).forEach(e=>{e.parentNode.removeChild(e)})}),r.forEach(t=>{["change","keyup"].forEach(function(e){t.addEventListener(e,function(){document.querySelectorAll(`[com-tm="${l}"]  .item-1 [data-tm="${t.attributes["data-fm"].value}"]`).forEach(e=>{e.innerHTML=t.value})})})})),0!=t){let a=i.cloneNode(!0);a.classList.remove("item-1"),a.classList.add("item-"+(t+1)),c.appendChild(a),a.querySelector(".item-remove").addEventListener("click",e=>{var t=document.querySelector(`[com-fm="${l}"] .items-wrap .`+a.className);t.parentNode.removeChild(t),document.querySelectorAll(`[com-tm="${l}"] .`+a.className).forEach(e=>{e.parentNode.removeChild(e)})}),document.querySelectorAll(`[com-fm="${l}"] .items-wrap .${a.className} [data-fm]`).forEach(t=>{["change","keyup"].forEach(function(e){t.addEventListener(e,function(){document.querySelectorAll(`[com-tm="${l}"]  .${a.className} [data-tm="${t.attributes["data-fm"].value}"]`).forEach(e=>{e.innerHTML=t.value})})})}),o++,e.querySelectorAll("[data-tm]").forEach(e=>{m[l].querySelector(".items-wrap > .item-"+(t+1)).querySelector(`[data-fm="${e.attributes["data-tm"].value}"]`).value=e.innerText})}})}),t.addEventListener("click",e=>{o++;let a=i.cloneNode(!0);a.classList.remove("item-1"),a.classList.add("item-"+o),a.querySelectorAll("[data-fm]").forEach(e=>{e.value=""}),c.appendChild(a),n[l].forEach((e,t)=>{var t=n[l][t],a=r.cloneNode(!0);a.classList.remove("item-1"),a.classList.add("item-"+o),a.querySelectorAll("[data-tm]").forEach(e=>{e.innerHTML=""}),t.appendChild(a)}),a.querySelector(".item-remove").addEventListener("click",e=>{var t=document.querySelector(`[com-fm="${l}"] .items-wrap .`+a.className);t.parentNode.removeChild(t),document.querySelectorAll(`[com-tm="${l}"] .`+a.className).forEach(e=>{e.parentNode.removeChild(e)})}),document.querySelectorAll(`[com-fm="${l}"] .items-wrap .${a.className} [data-fm]`).forEach(t=>{["change","keyup"].forEach(function(e){t.addEventListener(e,function(){document.querySelectorAll(`[com-tm="${l}"]  .${a.className} [data-tm="${t.attributes["data-fm"].value}"]`).forEach(e=>{"item-price"==t.attributes["data-fm"].value?e.innerHTML=parseFloat(t.value).toFixed(2):e.innerHTML=t.value})})})})}),document.querySelectorAll(`[com-fm="${l}"] .items-wrap .item-1 [data-fm]`).forEach(t=>{["change","keyup"].forEach(function(e){t.addEventListener(e,function(){document.querySelectorAll(`[com-tm="${l}"]  .item-1 [data-tm="${t.attributes["data-fm"].value}"]`).forEach(e=>{e.innerHTML=t.value})})})}),e&&e(!0,"items are ready")},S=e=>{let t=new Date(e);return t=(t=t.toLocaleDateString("en-LI",{year:"numeric",month:"short",day:"numeric"})).replaceAll("/","-")},p=e=>{var t=document.querySelectorAll(".com-wrapper");let a;t.forEach(t=>{t.querySelector(".com-disable")&&t.querySelector(".com-disable").addEventListener("click",e=>{t.classList.toggle("disable"),t.attributes["com-fm"]&&document.querySelectorAll(`[com-tm='${t.attributes["com-fm"].value}']`).forEach(e=>{e.classList.toggle("d-none")})});document.querySelector(`[com-tm='${t.attributes["com-fm"].value}']`).classList.contains("d-none");document.querySelector(`[com-tm='${t.attributes["com-fm"].value}']`).classList.contains("d-none")&&(t.querySelector(".com-disable").checked=!0,t.classList.add("disable")),t.querySelector(".com-close").addEventListener("click",e=>{t.classList.toggle("close")}),t.querySelector(".com-clear")&&t.querySelector(".com-clear").addEventListener("click",e=>{a=t.attributes["com-fm"].value,1!=t.querySelector(".com-disable").checked&&(t.querySelectorAll('.com-body input[type="text"]').forEach(e=>{e.value=""}),t.querySelectorAll(".com-body textarea").forEach(e=>{elA.value=""}),t.querySelectorAll('.com-body input[type="file"]').forEach(e=>{e.value=""}),document.querySelectorAll(`[com-tm="${a}"]`).forEach(e=>{e.querySelectorAll("[data-tm]").forEach(e=>{e.src||(e.innerHTML="")})}))})})},h=(r,e)=>{var t=m[r];let l=n[r],a,c=t.querySelector("[data-fm='upload']"),o=t.querySelector("[data-fm='url']"),i;l.forEach(e=>{a=e.querySelector(`[data-tm='${r}']`).src,e.querySelector(`[data-tm='${r}']`).attributes.url&&""!=e.querySelector(`[data-tm='${r}']`).attributes.url.value&&(o.value=e.querySelector(`[data-tm='${r}']`).attributes.url.value)}),c.addEventListener("change",e=>{var t,a=c.files[0];a&&""==o.value&&((t=new FileReader).readAsDataURL(a),t.addEventListener("load",e=>{l.forEach(t=>{i=this.result||e.srcElement.result,t.querySelectorAll(`[data-tm="${r}"]`).forEach(e=>{e.src=i,t.querySelector(`[data-tm='${r}']`).setAttribute("url",c.files[0].name)})})}))}),o.addEventListener("keyup",e=>{const t=c.files[0];l.forEach(e=>{""!=o.value?e.querySelectorAll(`[data-tm="${r}"]`).forEach(e=>{e.src=o.value,e.setAttribute("url",o.value)}):t?e.querySelectorAll(`[data-tm="${r}"]`).forEach(e=>{e.src=i}):e.querySelectorAll(`[data-tm="${r}"]`).forEach(e=>{e.src=a})})}),e&&e(!0,"Logo has been setted!")},E=e=>{var t=m.header,a=n.header;if(!a[0].querySelector(".item"))return 0;t.querySelector('[data-fm="h-1"]').value=a[0].querySelector('[data-tm="h-1"]').innerHTML,q("header"),e&&e(!0,"Header is called!")},L=e=>{var t=m["delivery-from"],a=n["delivery-from"];t.querySelector('[data-fm="field-name"]').value=a[0].querySelector('[data-tm="field-name"]').innerHTML,t.querySelector('[data-fm="field-value"]').value=a[0].querySelector('[data-tm="field-value"]').innerHTML,q("delivery-from"),e&&e(!0,"Delivery From called!")},g=e=>{var t=m["delivery-to"],a=n["delivery-to"];t.querySelector('[data-fm="field-name"]').value=a[0].querySelector('[data-tm="field-name"]').innerHTML,t.querySelector('[data-fm="field-value"]').value=a[0].querySelector('[data-tm="field-value"]').innerHTML,q("delivery-to"),e&&e(!0,"Delivery To called!")},b=e=>{var t=m["delivery-platform"],a=n["delivery-platform"];let r=t.querySelector('[data-fm="p-name"]');r.value=document.querySelector('[data-tm="p-name"]').innerHTML,r.addEventListener("keyup",()=>{document.querySelectorAll('[data-tm="p-name"]').forEach(e=>{e.innerHTML=r.value})}),t.querySelector('[data-fm="field-name"]').value=a[0].querySelector('[data-tm="field-name"]').innerHTML,t.querySelector('[data-fm="field-value"]').value=a[0].querySelector('[data-tm="field-value"]').innerHTML,q("delivery-platform")},A=(e,a,t)=>{m[e];var l=n[e];if(a){var r=""==(r=document.querySelector(`[com-fm='${e}'] .${a} [data-fm='item-quantity']`).value)?0:parseFloat(r),c=document.querySelector(`[com-fm='${e}'] .${a} [data-fm='item-price']`).value;let t=(""==c?0:parseFloat(c))*r;document.querySelectorAll(`[com-tm='${e}'] .${a} [data-tm="item-gross"]`).forEach(e=>{e.innerHTML=t.toFixed(2)})}{l.forEach(e=>{let o=0,i=0,d=0,m=0,n=0;e.querySelectorAll(".item").forEach(e=>{let t;c=""==(c=e.querySelector('[data-tm="item-gross"]').innerHTML)?0:parseFloat(c),t=document.querySelector('[com-fm="tax"] [data-fm="field-discount-check"]').checked?c*(1-(""==(a=e.querySelector('[data-tm="field-value-discount"]').innerHTML)?0:parseFloat(a))/100):c,e.querySelector('[data-tm="item-net"]').innerHTML=t.toFixed(2);var a=t;let r;document.querySelector('[com-fm="tax"] [data-fm="tax-cgst-check"]').checked?(c=""==(c=e.querySelector('[data-tm="field-value-cgst"]').innerHTML)?0:parseFloat(c),r=a-a*(1-c/100),e.querySelectorAll('[data-tm="field-value-cgstinr"]').forEach(e=>{e.innerHTML=r.toFixed(2)})):r=0;let l;document.querySelector('[com-fm="tax"] [data-fm="tax-sgst-check"]').checked?(c=""==(c=e.querySelector('[data-tm="field-value-sgst"]').innerHTML)?0:parseFloat(c),l=a-a*(1-c/100),e.querySelectorAll('[data-tm="field-value-sgstinr"]').forEach(e=>{e.innerHTML=l.toFixed(2)})):l=0;var c=e.querySelector('[data-tm="item-total"]'),a=(a+=parseFloat(r))+parseFloat(l);c.innerHTML=a.toFixed(2);c=""==(c=e.querySelector('[data-tm="item-total"]').innerHTML)?0:parseFloat(c);o+=c,document.querySelectorAll('[data-tm="sub-total"]').forEach(e=>{e.innerHTML=o.toFixed(2)});a=""==(a=e.querySelector('[data-tm="item-gross"]').innerHTML)?0:parseFloat(a);i+=a,document.querySelectorAll('[data-tm="item-total-bd"]').forEach(e=>{e.innerHTML=i.toFixed(2)});c=""==(c=e.querySelector('[data-tm="item-net"]').innerHTML)?0:parseFloat(c);d+=c,document.querySelectorAll('[data-tm="item-total-ad"]').forEach(e=>{e.innerHTML=d.toFixed(2)});a=""==(a=e.querySelector('[data-tm="field-value-cgstinr"]').innerHTML)?0:parseFloat(a);m+=a,document.querySelectorAll('[data-tm="item-tatal-cgst"]').forEach(e=>{e.innerHTML=m.toFixed(2)});c=""==(c=e.querySelector('[data-tm="field-value-sgstinr"]').innerHTML)?0:parseFloat(c);n+=c,document.querySelectorAll('[data-tm="item-tatal-sgst"]').forEach(e=>{e.innerHTML=n.toFixed(2)})})});let t=document.querySelector('[data-tm="sub-total"]').innerHTML,a=(t=""==t?0:parseFloat(t),m.tax.querySelector('[data-fm="field-value-cgst"]').value);a=""==a?0:parseFloat(a),document.querySelectorAll("[data-tm='field-value-cgst']").forEach(e=>{e.innerHTML=a});let r=m.tax.querySelector('[data-fm="field-value-sgst"]').value;r=""==r?0:parseFloat(r),document.querySelectorAll("[data-tm='field-value-sgst']").forEach(e=>{e.innerHTML=r}),document.querySelectorAll('[data-tm="final-total"]').forEach(e=>{e.innerHTML=t.toFixed(2)})}},T=e=>{var a=m.items,o=n.items;if(!o[0].querySelector(".item"))return a.querySelector(".items-wrap").classList.add("d-none"),0;a.querySelector('[data-fm="item-name"]').value=o[0].querySelector('[data-tm="item-name"]').innerHTML;var i=""==(i=o[0].querySelector('[data-tm="item-gross"]').innerHTML)?0:parseFloat(i),o=""==(o=o[0].querySelector('[data-tm="item-quantity"]').innerHTML)?0:parseFloat(o);a.querySelector('[data-fm="item-price"]').value=i/o,a.querySelector('[data-fm="item-quantity"]').value=o;{var d="items";i=void 0,a=m[d].querySelector("[data-fm='add-item']");let t=m[d].querySelector(".items-wrap"),l=1,c=(o=n[d][0].querySelectorAll(".item").length,m[d].querySelector(".items-wrap > .item-1")),r=n[d][0].querySelector(".item-1");1<=o&&n[d].forEach(e=>{e.querySelectorAll(".item").forEach((e,r)=>{if(0==r&&(c.querySelector(".item-remove"),document.querySelectorAll(`[com-fm="${d}"] .items-wrap .item-1 [data-fm]`).forEach(t=>{["change","keyup"].forEach(function(e){t.addEventListener(e,function(){document.querySelectorAll(`[com-tm="${d}"]  .item-1 [data-tm="${t.attributes["data-fm"].value}"]`)})})})),0!=r){let a=c.cloneNode(!0);a.classList.remove("item-1"),a.classList.add("item-"+(r+1)),t.appendChild(a),a.querySelector(".item-remove").addEventListener("click",e=>{var t=document.querySelector(`[com-fm="${d}"] .items-wrap .`+a.className);t.parentNode.removeChild(t),document.querySelectorAll(`[com-tm="${d}"] .`+a.className).forEach(e=>{e.parentNode.removeChild(e)})}),document.querySelectorAll(`[com-fm="${d}"] .items-wrap .${a.className} [data-fm]`).forEach(t=>{["change","keyup"].forEach(function(e){t.addEventListener(e,function(){var e=document.querySelectorAll(`[com-tm="${d}"]  .${a.className} [data-tm="${t.attributes["data-fm"].value}"]`);"item-price"!=t.attributes["data-fm"].value&&"item-quantity"!=t.attributes["data-fm"].value||A(d,a.className),e.forEach(e=>{"item-price"==t.attributes["data-fm"].value?e.innerHTML=parseFloat(t.value).toFixed(2):e.innerHTML=t.value})})})}),l++,e.querySelectorAll("[data-tm]").forEach(t=>{var a=m[d].querySelector(".items-wrap > .item-"+(r+1));if(a.querySelector(`[data-fm="${t.attributes["data-tm"].value}"]`)){let e;e="item-price"==t.attributes["data-tm"].value?Math.floor(parseInt(t.innerText)):t.innerText,a.querySelector(`[data-fm="${t.attributes["data-tm"].value}"]`).value=e}})}})}),a.addEventListener("click",e=>{l++;let a=c.cloneNode(!0);a.classList.remove("item-1"),a.classList.add("item-"+l),a.querySelectorAll("[data-fm]").forEach(e=>{e.value=""}),t.appendChild(a),n[d].forEach((e,t)=>{var t=n[d][t],a=r.cloneNode(!0);a.classList.remove("item-1"),a.classList.add("item-"+l),a.querySelectorAll("[data-tm]").forEach(e=>{"field-value-discount"!=e.attributes["data-tm"].value&&"field-value-cgst"!=e.attributes["data-tm"].value&&"field-value-sgst"!=e.attributes["data-tm"].value&&(e.innerHTML="")}),t.appendChild(a)}),a.querySelector(".item-remove").addEventListener("click",e=>{var t=document.querySelector(`[com-fm="${d}"] .items-wrap .`+a.className);t.parentNode.removeChild(t),document.querySelectorAll(`[com-tm="${d}"] .`+a.className).forEach(e=>{e.parentNode.removeChild(e)}),A(d)}),document.querySelectorAll(`[com-fm="${d}"] .items-wrap .${a.className} [data-fm]`).forEach(t=>{["change","keyup"].forEach(function(e){t.addEventListener(e,function(){var e=document.querySelectorAll(`[com-tm="${d}"]  .${a.className} [data-tm="${t.attributes["data-fm"].value}"]`);"item-price"!=t.attributes["data-fm"].value&&"item-quantity"!=t.attributes["data-fm"].value||A(d,a.className),e.forEach(e=>{"item-price"==t.attributes["data-fm"].value?e.innerHTML=parseFloat(t.value).toFixed(2):e.innerHTML=t.value})})})})}),document.querySelectorAll(`[com-fm="${d}"] .items-wrap .item-1 [data-fm]`).forEach(t=>{["change","keyup"].forEach(function(e){t.addEventListener(e,function(){var e=document.querySelectorAll(`[com-tm="${d}"]  .item-1 [data-tm="${t.attributes["data-fm"].value}"]`);"item-price"!=t.attributes["data-fm"].value&&"item-quantity"!=t.attributes["data-fm"].value||A(d,"item-1"),e.forEach(e=>{"item-price"==t.attributes["data-fm"].value?e.innerHTML=parseFloat(t.value).toFixed(2):e.innerHTML=t.value})})})}),i&&i(!0,"items are ready")}e&&e(!0,"Items called.")},$=e=>{var t=m.tax;let a=n.tax;if(!document.querySelector("[com-tm='items'] .item"))return 0;t.querySelector('[data-fm="field-name-cgst"]').value=a[0].querySelector('[data-tm="field-name-cgst"]').innerText,t.querySelector('[data-fm="field-value-cgst"]').value=a[0].querySelector('[data-tm="field-value-cgst"]').innerText,t.querySelector('[data-fm="field-name-cgstinr"]').value=a[0].querySelector('[data-tm="field-name-cgstinr"]').innerText,t.querySelector('[data-fm="field-name-sgst"]').value=a[0].querySelector('[data-tm="field-name-sgst"]').innerText,t.querySelector('[data-fm="field-value-sgst"]').value=a[0].querySelector('[data-tm="field-value-sgst"]').innerText,t.querySelector('[data-fm="field-name-sgstinr"]').value=a[0].querySelector('[data-tm="field-name-sgstinr"]').innerText,t.querySelector('[data-fm="field-name-discount"]').value=a[0].querySelector('[data-tm="field-name-discount"]').innerText,t.querySelector('[data-fm="field-value-discount"]').value=a[0].querySelector('[data-tm="field-value-discount"]').innerText,t.querySelectorAll("[data-fm]").forEach(t=>{["keyup","change"].forEach(e=>{t.addEventListener(e,e=>{"field-name-cgst"!=t.attributes["data-fm"].value&&"field-value-cgst"!=t.attributes["data-fm"].value&&"field-name-sgst"!=t.attributes["data-fm"].value&&"field-value-sgst"!=t.attributes["data-fm"].value&&"field-name-discount"!=t.attributes["data-fm"].value&&"field-value-discount"!=t.attributes["data-fm"].value&&"field-name-cgstinr"!=t.attributes["data-fm"].value&&"field-name-sgstinr"!=t.attributes["data-fm"].value||("field-value-discount"==t.attributes["data-fm"].value?a.forEach(e=>{e.querySelectorAll(`[data-tm='${t.attributes["data-fm"].value}']`).forEach(e=>{e.innerHTML=t.value}),A("items")}):a.forEach(e=>{e.querySelector(`[data-tm='${t.attributes["data-fm"].value}']`).innerHTML=t.value,A("items")}))})})}),t.querySelectorAll(["[data-fm]"]).forEach(a=>{if("checkbox"==a.type)if(a.addEventListener("click",e=>{A("items")}),"field-discount-check"==a.attributes["data-fm"].value){let t=document.querySelectorAll('[com-tm="tax"] .discount-remove');a.addEventListener("click",e=>{t.forEach(e=>{e.classList.toggle("d-none")})}),t.forEach(e=>{e.classList.contains("d-none")?a.checked=!1:a.checked=!0})}else if("tax-cgst-check"==a.attributes["data-fm"].value){let t=document.querySelectorAll('[com-tm="tax"] .cgst-remove');a.addEventListener("click",e=>{t.forEach(e=>{e.classList.toggle("d-none")})}),t.forEach(e=>{e.classList.contains("d-none")?a.checked=!1:a.checked=!0})}else if("tax-sgst-check"==a.attributes["data-fm"].value){let t=document.querySelectorAll('[com-tm="tax"] .sgst-remove');a.addEventListener("click",e=>{t.forEach(e=>{e.classList.toggle("d-none")})}),t.forEach(e=>{e.classList.contains("d-none")?a.checked=!1:a.checked=!0})}})},M=e=>{var t=document.querySelector('[data-fm="select-currency"]'),a=(t.addEventListener("change",()=>{setCurrencyCall(t.selectedIndex)}),m.currency.querySelectorAll('[name="currency-type"').forEach(e=>{e.addEventListener("click",()=>{setCurrencyCall(t.selectedIndex)})}),[]),r=(t.querySelectorAll("option").forEach((e,t)=>{e={[e.innerHTML]:t};a[t]=e}),document.querySelector('[data-fm="search-currency-box"]')),l=document.querySelector('[data-fm="search-currency"]'),c="",o=[];function i(e){""!=(c=e)?(0<(o=a.filter(e=>{return Object.keys(e).toString().toLowerCase().includes(c.toLowerCase())})).length&&(o.forEach((e,t,a)=>{e=`<button class="d-block" onclick="setCurrencyCall(${Object.values(e)})">${Object.keys(e)}</button>`;o[t]=e}),r.classList.remove("d-none")),o.length,0<o.length&&(r.innerHTML="",o.forEach((e,t)=>{r.innerHTML+=e}))):(r.classList.add("d-none"),o=[])}window.addEventListener("click",function(e){e.target.attributes["data-fm"]&&("search-currency-box"==e.target.attributes["data-fm"].value||"search-currency"==e.target.attributes["data-fm"].value)||r.classList.add("d-none")}),l.addEventListener("keyup",e=>{i(l.value)}),l.addEventListener("focusin",e=>{i(l.value)})};setCurrencyCall=t=>{var a,r=document.querySelector('[data-fm="select-currency"]');r.selectedIndex=t,m.currency.querySelector('[data-fm="currency-code"]').checked?n.currency.forEach(e=>{e.querySelectorAll('[data-tm="currency"]').forEach(e=>{e.innerHTML=r.options[t].value})}):(a=(a=(a=(a=r.options[t].innerHTML).split("-").pop()).split(",",1).pop()).split(" ").pop(),n.currency.forEach(e=>{e.querySelectorAll('[data-tm="currency"]').forEach(e=>{e.innerHTML=a})}))};let H=!0;var w=(e,t)=>{var a,r=document.querySelector("#dynamic-forms-controls");if(r.insertAdjacentHTML("afterend",'<div data-dynamic="form-control"></div>'),c&&(y[c.attributes["data-tm"].value]=c),c=y[e],document.querySelectorAll("#delivery-invoice-template-wrapper .templates").forEach(e=>{e.remove()}),document.querySelector("#delivery-invoice-template-wrapper").appendChild(c),H){for(a in r.remove(),document.querySelectorAll(o+" [data-dynamic]").forEach(e=>{"form-control"==e.attributes["data-dynamic"].value&&(e=e.attributes["data-dynamic"].value,addDynamicHTML(e,deliveryInvoiceData[e],!1))}),(m=new l)["download-pdf"].addEventListener("click",()=>{v((e,t)=>{var a;e&&(m["spinner-grow"].style.display="inline-block",m["download-text"].innerHTML="PDF Generating...",e=c.cloneNode(!0),(a=document.createElement("div")).id="pdf-wrapper",a.setAttribute("class","pdf-wrapper"),a.appendChild(e),html2pdf().set({jsPDF:{format:"a4",orientation:"portrait"},html2canvas:{letterRendering:!0,useCORS:!0,logging:!0,scrollX:0,scrollY:0},margin:[0,0,0,0],padding:0,image:{type:"jpeg",quality:2}}).from(a).toPdf().save("Delivery Invoice "+server.pdfName).then(e=>{f();try{isSiteReady&&customGATag.firstFun(`Download : Delivery Invoice [${c.attributes["data-tm"].value}] `)}catch(e){}}).catch(e=>{console.log("PDF Error "+e)}))})}),n={templates:document.querySelectorAll("delivery-invoice .template-wrapper > .templates"),"modal-body":document.querySelector("delivery-invoice .modal-body")},m)document.querySelector("[data-tm="+a+"]")&&"template-1"!=a&&"template-2"!=a&&(n[a]=document.querySelectorAll("delivery-invoice  [data-tm="+a+"]")),document.querySelector("[com-tm="+a+"]")&&"template-1"!=a&&"template-2"!=a&&(n[a]=document.querySelectorAll("delivery-invoice  [com-tm="+a+"]")),"template-1"!=a&&"template-2"!=a||(n[a]=document.querySelector("delivery-invoice .template-wrapper > [data-tm="+a+"]"));p(),h("logo"),h("signature"),E(),L(),g(),b(),T(),$(),M()}H=!0,t&&t(!0,"Template has switched")},k=e=>{m=new l,(async(e,t)=>{dragScroller("delivery-invoice-template-wrapper"),n={templates:document.querySelectorAll("delivery-invoice .template-wrapper > .templates"),"modal-body":document.querySelector("delivery-invoice .modal-body")};for(let e in m){if(document.querySelector("delivery-invoice p[data-error="+e+"]"))a[e]=document.querySelector("delivery-invoice p[data-error="+e+"]");if(document.querySelector("[data-tm="+e+"]")&&e!="template-1"&&e!="template-2")n[e]=document.querySelectorAll("delivery-invoice  [data-tm="+e+"]");if(document.querySelector("[com-tm="+e+"]")&&e!="template-1"&&e!="template-2")n[e]=document.querySelectorAll("delivery-invoice  [com-tm="+e+"]");if(e=="template-1"||e=="template-2")n[e]=document.querySelector("delivery-invoice .template-wrapper > [data-tm="+e+"]")}if(document.querySelectorAll(".date").forEach(e=>{e.innerHTML=S(r)}),u){n["templates"].forEach(e=>{y[e.attributes["data-tm"].value]=e;e.remove()});w(e);m[e].checked=true}t(true,"page is ready!")})("template-2",(e,t)=>{}),d=d||!0,u&&!s&&(s=!0,m.templates.forEach(t=>t.addEventListener("click",e=>{m.templates.forEach(e=>{e.id!=t.id&&w(t.id)})})),m["modal-btn"].addEventListener("click",e=>{var t;n["modal-body"].innerHTML="",t=c.cloneNode(!0),n["modal-body"].appendChild(t)}),t=new bootstrap.Modal(m["modal-template"]),window.addEventListener("click",function(e){"modal-body"==e.target.classList[0]&&t.toggle()})),e&&e(!0,"Bind Event function called")};{var e=(e,t)=>{e&&(document.querySelectorAll(o+" [data-dynamic]").forEach(e=>{e=e.attributes["data-dynamic"].value;addDynamicHTML(e,deliveryInvoiceData[e],!1)}),u=!0,k((e,t)=>{}))},x=document.querySelectorAll("script");let t=!1;x.forEach(e=>{e.src.replace(/^.*[\\\/]/,"")==i&&(t=!0)}),t||((x=document.createElement("script")).src=server.jsPath+"/partialPage/"+i,x.async=!0,x.onload=()=>{e(!0,"Dynamic data loaded")},x.onerror=()=>{e(!1,"Error occurred while loading dynamic data")},document.body.appendChild(x))}};deliveryInvoice();