var driverSalary=()=>{class t{constructor(){this["template-1"]=document.querySelector("app-driver-salary #template-1"),this["template-2"]=document.querySelector("app-driver-salary #template-2"),this.templates=document.querySelectorAll("app-driver-salary [name='templates']"),this["ds-driver-name"]=document.querySelector("app-driver-salary #ds-driver-name"),this["ds-employee-name"]=document.querySelector("app-driver-salary #ds-employee-name"),this["ds-vehical-number"]=document.querySelector("app-driver-salary #ds-vehical-number"),this["ds-salary-amount"]=document.querySelector("app-driver-salary #ds-salary-amount"),this["ds-date"]=document.querySelector("app-driver-salary #ds-date"),this["ds-month"]=document.querySelector("app-driver-salary #ds-month"),this["ds-signature"]=document.querySelector("app-driver-salary #ds-signature"),this["ds-signature-remove"]=document.querySelector("app-driver-salary [aria-label='ds-signature']"),this["ds-stamp"]=document.querySelector("app-driver-salary #ds-stamp"),this.currency=document.querySelector("app-driver-salary [com-fm='currency']"),this["download-pdf"]=document.querySelector("app-driver-salary #download-pdf"),this["spinner-grow"]=document.querySelector("app-driver-salary .spinner-grow"),this["download-text"]=document.querySelector("app-driver-salary .download-text"),this["form-control"]=document.querySelectorAll("app-driver-salary .form-control"),this["ds-modal"]=document.querySelector("app-driver-salary #ds-modal"),this["ds-modal-view"]=document.querySelector("app-driver-salary #ds-modal-view")}}let s={},a={},d={},o=new Date,l,c="template-1",r,n="driver-salary-data.js",e=!1,i=!1,u=!1;{var m=(e,r)=>{e&&(document.querySelectorAll("app-driver-salary [data-dynamic]").forEach(e=>{e=e.attributes["data-dynamic"].value;addDynamicHTML(e,dsData[e],!1)}),i=!0,v(c))},p=document.querySelectorAll("script");let r=!1;p.forEach(e=>{e.src.replace(/^.*[\\\/]/,"")==n&&(r=!0)}),r||((p=document.createElement("script")).src=server.jsPath+"/partialPage/"+n,p.async=!0,p.onload=()=>{m(!0,"Dynamic data loaded")},p.onerror=()=>{m(!1,"Error occurred while loading dynamic data")},document.body.appendChild(p))}var y=()=>{s["form-control"].forEach(r=>{["keyup","change"].forEach(function(e){r.addEventListener(e,function(){document.querySelectorAll("."+r.id).forEach(e=>{"ds-date"==r.id?e.innerHTML=f(r.value):e.innerHTML=r.value})})})}),s["ds-modal-view"]&&s["ds-modal-view"].addEventListener("click",e=>{h()}),s["ds-modal"]&&(r=new bootstrap.Modal(s["ds-modal"]),window.addEventListener("click",function(e){"modal-body"==e.target.classList[0]&&r.toggle()})),s.templates.forEach(r=>r.addEventListener("click",e=>{s.templates.forEach(e=>{e.id!=r.id&&(d[r.id].classList.remove("d-none"),l=d[r.id],d[e.id].classList.add("d-none"))})})),e=e||!0,i&&!u&&(u=!0,s["ds-stamp"].addEventListener("click",()=>{d["ds-stamp"].forEach(e=>{e.classList.toggle("d-none")})}),s["ds-signature"].addEventListener("change",e=>{var r,t=s["ds-signature"].files[0];t&&(s["ds-signature-remove"].classList.remove("d-none"),(r=new FileReader).readAsDataURL(t),r.addEventListener("load",r=>{d["ds-signature"].forEach(e=>{this.result?e.src=this.result:e.src=r.srcElement.result,e.classList.remove("d-none")})}))}),s["ds-signature-remove"].addEventListener("click",e=>{s["ds-signature"].files[0]&&(s["ds-signature"].value="",d["ds-signature"].forEach(e=>{e.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}),s["ds-signature-remove"].classList.toggle("d-none"))}),s["ds-month"].addEventListener("change",e=>{d["ds-month"].forEach(e=>{e.innerHTML=s["ds-month"].value})}),g(),S(),setCurrencyCall(69))},v=e=>{for(var r in dragScroller("ds-template-wrapper"),d={templates:document.querySelectorAll("app-driver-salary .template-wrapper > .templates"),"modal-body":document.querySelector("app-driver-salary .ds-modal .modal-body")},s=new t)document.querySelector("app-driver-salary p[data-error="+r+"]")&&(a[r]=document.querySelector("app-driver-salary p[data-error="+r+"]")),document.querySelector("[data-tm="+r+"]")&&"template-1"!=r&&"template-2"!=r&&(d[r]=document.querySelectorAll("app-driver-salary  [data-tm="+r+"]")),"template-1"!=r&&"template-2"!=r||(d[r]=document.querySelector("app-driver-salary .template-wrapper > [data-tm="+r+"]")),document.querySelector("[com-tm="+r+"]")&&(d[r]=document.querySelectorAll("app-driver-salary [com-tm="+r+"]"));l=d[e],d.templates.forEach(e=>{e.classList.add("d-none")}),l.classList.remove("d-none"),s[e].checked=!0,i&&(s["ds-date"].value=o.toISOString().substring(0,10),d["ds-date"].forEach(e=>{e.innerHTML=f(o)}),d["ds-month"].forEach(e=>{e.innerHTML=s["ds-month"].options[s["ds-month"].selectedIndex].value}),s["ds-stamp"].checked=!0,d["ds-stamp"].forEach(e=>{e.classList.add("d-none")})),y()},h=(v(c),e=>{d["modal-body"].innerHTML="";var r=l.cloneNode(!0);d["modal-body"].appendChild(r),document.querySelector(".modal-body .templates")});function f(e){let r=new Date(e);return r=(r=r.toLocaleDateString("en-GB",{year:"numeric",month:"numeric",day:"numeric"})).replaceAll("/","-")}var g=e=>{document.querySelectorAll(".com-wrapper").forEach(r=>{r.classList.contains("disable")&&(r.querySelector(".com-disable").checked=!0,r.attributes["com-fm"])&&document.querySelectorAll(`[com-tm='${r.attributes["com-fm"].value}']`).forEach(e=>{e.classList.add("d-none")}),r.querySelector(".com-disable").addEventListener("click",e=>{r.classList.toggle("disable"),r.attributes["com-fm"]&&document.querySelectorAll(`[com-tm='${r.attributes["com-fm"].value}']`).forEach(e=>{e.classList.toggle("d-none")})}),r.querySelector(".com-close").addEventListener("click",e=>{r.classList.toggle("close")}),r.querySelector(".com-clear")&&r.querySelector(".com-clear").addEventListener("click",e=>{1!=r.querySelector(".com-disable").checked&&(r.querySelectorAll('.com-body input[type="text"]').forEach(e=>{e.value=""}),r.querySelectorAll(".com-body textarea").forEach(e=>{elA.value=""}),r.querySelectorAll('.com-body input[type="file"]').forEach(e=>{elA.value=""}))})})},S=e=>{var r=document.querySelector('[data-fm="select-currency"]'),t=(r.addEventListener("change",()=>{setCurrencyCall(r.selectedIndex)}),s.currency.querySelectorAll('[name="currency-type"').forEach(e=>{e.addEventListener("click",()=>{setCurrencyCall(r.selectedIndex)})}),[]),a=(r.querySelectorAll("option").forEach((e,r)=>{e={[e.innerHTML]:r};t[r]=e}),document.querySelector('[data-fm="search-currency-box"]')),d=document.querySelector('[data-fm="search-currency"]'),o="",l=[];function c(e){""!=(o=e)?(0<(l=t.filter(e=>{return Object.keys(e).toString().toLowerCase().includes(o.toLowerCase())})).length&&(l.forEach((e,r,t)=>{e=`<button class="d-block" onclick="setCurrencyCall(${Object.values(e)})">${Object.keys(e)}</button>`;l[r]=e}),a.classList.remove("d-none")),l.length,0<l.length&&(a.innerHTML="",l.forEach((e,r)=>{a.innerHTML+=e}))):(a.classList.add("d-none"),l=[])}window.addEventListener("click",function(e){e.target.attributes["data-fm"]&&("search-currency-box"==e.target.attributes["data-fm"].value||"search-currency"==e.target.attributes["data-fm"].value)||a.classList.add("d-none")}),d.addEventListener("keyup",e=>{c(d.value)}),d.addEventListener("focusin",e=>{c(d.value)})};setCurrencyCall=r=>{var t,a=document.querySelector('[data-fm="select-currency"]');a.selectedIndex=r,s.currency.querySelector('[data-fm="currency-code"]').checked?d.currency.forEach(e=>{e.innerHTML=a.options[r].value}):(t=(t=(t=a.options[r].innerHTML).split("-").pop()).split(",",1).pop(),d.currency.forEach(e=>{e.innerHTML=t}))},s["download-pdf"].addEventListener("click",()=>{{var e=(e,r)=>{var t;e&&(s["spinner-grow"].style.display="inline-block",s["download-text"].innerHTML="PDF Generating...",e=l.cloneNode(!0),(t=document.createElement("div")).id="pdf-wrapper",t.setAttribute("class","pdf-wrapper"),t.appendChild(e),html2pdf().set({jsPDF:{format:"a4",orientation:"portrait"},html2canvas:{letterRendering:!0,useCORS:!0,logging:!0,scrollX:0,scrollY:0},margin:[10,0,0,0],padding:0,image:{type:"jpeg",quality:1}}).from(t).toPdf().save("Driver Salary Slip "+server.pdfName).then(e=>{s["spinner-grow"].style.display="none",s["download-text"].innerHTML="Download"}).catch(e=>{console.log("PDF Error "+e)}))};let t=!0,a=document.getElementsByClassName("validation-message");Object.keys(a).some(function(e){var r;if("block"==a[e].style.display)return r="ErrorAdress"==a[e].id?130:80,r=a[e].getBoundingClientRect().top+window.pageYOffset-r,window.scrollTo({top:r,behavior:"smooth"}),t=!1,a[e].previousElementSibling.focus(),!0}),t?e(!0,"Template ready"):e(!1,"Template not ready")}})};