function internetInvoice(){class r{constructor(){this["template-1"]=document.querySelector("app-airtel #template-1"),this["template-2"]=document.querySelector("app-airtel #template-2"),this["template-3"]=document.querySelector("app-airtel #template-3"),this.templates=document.querySelectorAll("app-airtel [name='templates']"),this["ii-logo"]=document.querySelectorAll("app-airtel [name='ii-logo']"),this["provider-name"]=document.querySelector("app-airtel #provider-name"),this["provider-address"]=document.querySelector("app-airtel #provider-address"),this["i-description"]=document.querySelector("app-airtel #i-description"),this["description-wrap"]=document.querySelector("app-airtel .description-wrap"),this["ac-number"]=document.querySelector("app-airtel #ac-number"),this["ii-date"]=document.querySelector("app-airtel #ii-date"),this["c-name"]=document.querySelector("app-airtel #c-name"),this["c-address"]=document.querySelector("app-airtel #c-address"),this["plan-speed"]=document.querySelector("app-airtel [aria-label='plan-speed']"),this["plan-package"]=document.querySelector("app-airtel [aria-label='plan-package']"),this["tarrif-plan"]=document.querySelector("app-airtel [aria-label='tarrif-plan']"),this["payment-method"]=document.querySelector("app-airtel [aria-label='payment-method']"),this["total-amount"]=document.querySelector("app-airtel #total-amount"),this["download-pdf"]=document.querySelector("app-airtel #download-pdf"),this["spinner-grow"]=document.querySelector("app-airtel .spinner-grow"),this["download-text"]=document.querySelector("app-airtel .download-text"),this["form-control"]=document.querySelectorAll("app-airtel .form-control"),this["ii-modal"]=document.querySelector("app-airtel #ii-modal"),this["ii-modal-view"]=document.querySelector("app-airtel #ii-modal-view")}}let o={},n={},l={},i=new Date,d,a="template-2",t,c="internet-invoice-data.js";{var e=(e,t)=>{e&&(document.querySelectorAll("app-airtel [data-dynamic]").forEach(e=>{e=e.attributes["data-dynamic"].value;addDynamicHTML(e,internetInvoiceData[e],!1)}),m(a))},s=document.querySelectorAll("script");let t=!1;s.forEach(e=>{e.src.replace(/^.*[\\\/]/,"")==c&&(t=!0)}),t||((s=document.createElement("script")).src=server.jsPath+"/partialPage/"+c,s.async=!0,s.onload=()=>{e(!0,"Dynamic data loaded")},s.onerror=()=>{e(!1,"Error occurred while loading dynamic data")},document.body.appendChild(s))}var p=()=>{o["form-control"].forEach(r=>{["keyup","change"].forEach(function(e){r.addEventListener(e,function(){document.querySelectorAll("[data-tm="+r.id+"]").forEach(e=>{if("total-amount"==r.id){var a=r.value;let t=a*(100/118);a=a-t;sgst=cgst=a/2,t=t.toFixed(2),sgst=sgst.toFixed(2),l["taxable-amount"].forEach(e=>{e.innerHTML=t}),l["gst-amount"].forEach(e=>{e.innerHTML=sgst})}e.innerHTML=r.value})})})}),o["ii-logo"].forEach(e=>e.addEventListener("click",t=>{l["ii-logo"].forEach(e=>{e.src=server.serverPath+"/assets/images/internet-invoice/"+t.currentTarget.id+".png"})})),o["ii-modal-view"].addEventListener("click",e=>{y()}),t=new bootstrap.Modal(o["ii-modal"]),window.addEventListener("click",function(e){"modal-body"==e.target.classList[0]&&t.toggle()}),o.templates.forEach(t=>t.addEventListener("click",e=>{o.templates.forEach(e=>{e.id!=t.id&&(l[t.id].classList.remove("d-none"),d=l[t.id],l[e.id].classList.add("d-none")),"template-2"==t.id?o["description-wrap"].classList.remove("d-none"):o["description-wrap"].classList.add("d-none")})}))},m=async e=>{for(var t in dragScroller("ii-template-wrapper"),l={templates:document.querySelectorAll("app-airtel .template-wrapper > .templates"),"modal-body":document.querySelector("app-airtel .modal-body"),"receipt-number":document.querySelectorAll('app-airtel [data-tm="receipt-number"]'),"gst-amount":document.querySelectorAll("app-airtel [data-tm='gst-amount']"),"taxable-amount":document.querySelectorAll("app-airtel [data-tm='taxable-amount']")},o=new r)document.querySelector("app-airtel p[data-error="+t+"]")&&(n[t]=document.querySelector("app-airtel p[data-error="+t+"]")),document.querySelector("[data-tm="+t+"]")&&"template-1"!=t&&"template-2"!=t&&"template-3"!=t&&(l[t]=document.querySelectorAll("app-airtel  [data-tm="+t+"]")),"template-1"!=t&&"template-2"!=t&&"template-3"!=t||(l[t]=document.querySelector("app-airtel .template-wrapper > [data-tm="+t+"]"));d=l[e],l.templates.forEach(e=>{e.classList.add("d-none")}),d.classList.remove("d-none"),o[e].checked=!0,o["ii-date"].value=i.toISOString().substring(0,10),l["ii-date"].forEach(e=>{e.innerHTML=i.toISOString().substring(0,10)});var a="IN"+Math.floor(9e3*Math.random()+1e3);l["receipt-number"].forEach(e=>{e.innerHTML=a}),p()},u=(m(a),(e,t,a,r)=>{return"Name"==t?""==e?(r(!1,a+" cannot be  empty!"),!1):35<e.length?(r(!1,a+" cannot be more than 35 characters!"),!1):/\d/g.test(e)?(r(!1,a+" cannot contain numbers and space!"),!1):(r(!0,a+" validated successfully!"),!0):"Empty"==t?""==e?(r(!1,a+" cannot be empty!"),!1):(r(!0,a+" validated successfully!"),!0):void 0}),y=e=>{l["modal-body"].innerHTML="";var t=d.cloneNode(!0);l["modal-body"].appendChild(t)};o["download-pdf"].addEventListener("click",()=>{{var e=(e,t)=>{e&&(o["spinner-grow"].style.display="inline-block",o["download-text"].innerHTML="PDF Generating...",e=d.cloneNode(!0),html2pdf().set({jsPDF:{format:"a4",orientation:"portrait"},html2canvas:{letterRendering:!0,useCORS:!0,logging:!0,scrollX:0,scrollY:0},margin:[0,20,0,20],padding:0,image:{type:"jpeg",quality:.98}}).from(e).toPdf().save("Internet Invoice "+server.pdfName).then(e=>{o["spinner-grow"].style.display="none",o["download-text"].innerHTML="Download"}).catch(e=>{console.log("PDF Error "+e)}))};let a=!0,r=(u(o["provider-name"].value,"Empty","Service Provider Name",function(e,t){e?n["provider-name"].style.display="none":(n["provider-name"].innerHTML=t,n["provider-name"].style.display="block")}),u(o["provider-address"].value,"Empty","Service Provider Address",function(e,t){e?n["provider-address"].style.display="none":(n["provider-address"].innerHTML=t,n["provider-address"].style.display="block")}),u(o["ac-number"].value,"Empty","Acount Number",function(e,t){e?n["ac-number"].style.display="none":(n["ac-number"].innerHTML=t,n["ac-number"].style.display="block")}),u(o["c-name"].value,"Empty","Customer name",function(e,t){e?n["c-name"].style.display="none":(n["c-name"].innerHTML=t,n["c-name"].style.display="block")}),u(o["c-address"].value,"Empty","Customer address",function(e,t){e?n["c-address"].style.display="none":(n["c-address"].innerHTML=t,n["c-address"].style.display="block")}),u(o["total-amount"].value,"Empty","Amount",function(e,t){e?n["total-amount"].style.display="none":(n["total-amount"].innerHTML=t,n["total-amount"].style.display="block")}),document.getElementsByClassName("validation-message"));Object.keys(r).some(function(e){var t;if("block"==r[e].style.display)return t="ErrorAdress"==r[e].id?130:80,t=r[e].getBoundingClientRect().top+window.pageYOffset-t,window.scrollTo({top:t,behavior:"smooth"}),a=!1,r[e].previousElementSibling.focus(),!0}),a?e(!0,"Template ready"):e(!1,"Template not ready")}})}