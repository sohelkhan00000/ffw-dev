let rentReceipt=()=>{class r{constructor(){this["renter-name"]=document.querySelector("app-receipt-one #renter-name"),this.rent=document.querySelector("app-receipt-one #rent"),this.address=document.querySelector("app-receipt-one #address"),this["landlord-name"]=document.querySelector("app-receipt-one #landlord-name"),this["landlord-pan"]=document.querySelector("app-receipt-one #landlord-pan"),this["date-from"]=document.querySelector("app-receipt-one #date-from"),this["date-to"]=document.querySelector("app-receipt-one #date-to"),this["receipt-month"]=document.querySelectorAll("app-receipt-one [name='receipt-month']"),this["download-pdf"]=document.querySelector("app-receipt-one #download-pdf"),this["form-control"]=document.querySelectorAll("app-receipt-one .form-control"),this["spinner-grow"]=document.querySelector("app-receipt-one .spinner-grow"),this["download-text"]=document.querySelector("app-receipt-one .download-text"),this["select-template"]=document.querySelector("app-receipt-one .select-template"),this["rentr-modal"]=document.querySelector("app-receipt-one #rentr-modal"),this["rentr-modal-view"]=document.querySelector("app-receipt-one #rentr-modal-view"),this["template-1"]=document.querySelector("app-receipt-one #template-1"),this["template-2"]=document.querySelector("app-receipt-one #template-2"),this.templates=document.querySelectorAll("app-receipt-one [name='templates']")}}let l={},a={},d={},n,i,p,o="template-2",c=new Date,u="rent-receipt-data.js";{var e=(e,t)=>{e&&(document.querySelectorAll("app-receipt-one [data-dynamic]").forEach(e=>{e=e.attributes["data-dynamic"].value;addDynamicHTML(e,rentReceiptData[e],!1)}),s(o))},m=document.querySelectorAll("script");let t=!1;m.forEach(e=>{e.src.replace(/^.*[\\\/]/,"")==u&&(t=!0)}),t||((m=document.createElement("script")).src=server.jsPath+"/partialPage/"+u,m.async=!0,m.onload=()=>{e(!0,"Dynamic data loaded")},m.onerror=()=>{e(!1,"Error occurred while loading dynamic data")},document.body.appendChild(m))}var s=e=>{for(var t in d={receipts:document.querySelectorAll("app-receipt-one .receipts"),"generate-date":document.querySelectorAll("app-receipt-one .generate-date"),"current-month":document.querySelectorAll("app-receipt-one .current-month"),"receipt-number":document.querySelectorAll("app-receipt-one .receipt-number"),templates:document.querySelectorAll("app-receipt-one .template-wrapper > .templates"),"modal-body":document.querySelector("app-receipt-one .modal-body")},l=new r)document.querySelector("app-receipt-one p[data-error="+t+"]")&&(a[t]=document.querySelector("app-receipt-one p[data-error="+t+"]")),document.querySelector("app-receipt-one  [data-tm="+t+"]")&&(d[t]=document.querySelectorAll("app-receipt-one [data-tm="+t+"]")),document.querySelector("[data-tm="+t+"]")&&"template-1"!=t&&"template-2"!=t&&"template-3"!=t&&(d[t]=document.querySelectorAll("app-receipt-one  [data-tm="+t+"]")),"template-1"!=t&&"template-2"!=t&&"template-3"!=t||(d[t]=document.querySelector("app-receipt-one .template-wrapper > [data-tm="+t+"]"));i=d[e],p=e,l["date-from"].value=c.toISOString().substring(0,10),l["date-to"].value=c.toISOString().substring(0,10),l[e].checked=!0,d.templates.forEach(e=>{e.classList.add("d-none")}),i.classList.remove("d-none"),l["renter-name"].value="Mark",d["renter-name"].forEach(e=>{e.innerHTML="Mark"}),l.rent.value="40000",d.rent.forEach(e=>{e.innerHTML="40000"}),l.address.value="India",d.address.forEach(e=>{e.innerHTML="India"}),l["landlord-name"].value="Harry",d["landlord-name"].forEach(e=>{e.innerHTML="Harry"}),d["current-month"].forEach(e=>{e.innerHTML=h(c)}),d["date-from"].forEach(e=>{e.innerHTML=f(c)}),d["date-to"].forEach(e=>{e.innerHTML=f(c)}),l["form-control"].forEach(function(r){["keyup","change"].forEach(function(e){r.addEventListener(e,function(){var e=document.querySelectorAll("app-receipt-one ."+r.id),t=document.querySelectorAll("[data-tm="+r.id+"]");"date-from"==r.id||"date-to"==r.id?(e.forEach(e=>{e.innerHTML=f(r.value)}),t.forEach(e=>{e.innerHTML=f(r.value)})):(e.forEach(e=>{e.innerHTML=r.value}),t.forEach(e=>{e.innerHTML=r.value}))})})}),l["rentr-modal-view"].addEventListener("click",e=>{q()}),n=new bootstrap.Modal(l["rentr-modal"]),window.addEventListener("click",function(e){"modal-body"==e.target.classList[0]&&n.toggle()}),l.templates.forEach(t=>t.addEventListener("click",e=>{l.templates.forEach(e=>{e.id!=t.id&&(d[t.id].classList.remove("d-none"),i=d[t.id],p=t.id,d[e.id].classList.add("d-none"))})}))};function h(e){return new Date(e).toLocaleString("default",{month:"short",year:"numeric"})}function y(e){return new Date(e).toLocaleString("default",{month:"long",year:"numeric"})}function f(e){let t=new Date(e);return t=(t=t.toLocaleDateString("en-GB",{year:"numeric",month:"numeric",day:"numeric"})).replaceAll("/","-")}s(o);var v=(e,t,r)=>{Date.isLeapYear=function(e){return e%4==0&&e%100!=0||e%400==0},Date.getDaysInMonth=function(e,t){return[31,Date.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},Date.prototype.isLeapYear=function(){return Date.isLeapYear(this.getFullYear())},Date.prototype.getDaysInMonth=function(){return Date.getDaysInMonth(this.getFullYear(),this.getMonth())},Date.prototype.addMonths=function(e){var t=this.getDate();return this.setDate(1),this.setMonth(this.getMonth()+e),this.setDate(Math.min(t,this.getDaysInMonth())),this};var e=new Date(e),n=new Date(t),a=[],o=new Date(e).addMonths(r);if(l=new Date(o),o.setDate(o.getDate()-1),n<=l?!(a[0]={start:e,end:n}):(a[0]={start:e,end:o},!0))for(let e=1;a[a.length-1].end<n;e++){var c=new Date(l),o=new Date(l).addMonths(r),l=new Date(o);o.setDate(o.getDate()-1),a[e]=n<=l?{start:c,end:n}:{start:c,end:o}}var d={year:"numeric",month:"short",day:"numeric"};return a.forEach((e,t,r)=>{r[t]={start:e.start.toLocaleDateString("en-US",d),end:e.end.toLocaleDateString("en-US",d)}}),a},S=(e,t,r,n)=>{return"Name"==t?""==e?(n(!1,r+" cannot be  empty!"),!1):35<e.length?(n(!1,r+" cannot be more than 35 characters!"),!1):/\d/g.test(e)?(n(!1,r+" cannot contain numbers and space!"),!1):(n(!0,r+" validated successfull!"),!0):"Empty"==t?""==e?(n(!1,r+" cannot be empty!"),!1):(n(!0,r+" validated successfull!"),!0):void 0},g=()=>{var e=document.createElement("div");e.setAttribute("class","page-add"),e.innerHTML="",document.querySelector(`app-receipt-one .${p} #receipts`).appendChild(e)},t=()=>{{var t=(e,t)=>{var r;e&&(l["spinner-grow"].style.display="inline-block",l["download-text"].innerHTML="PDF Generating...",e=i.cloneNode(!0),(r=document.createElement("div")).id="pdf-wrapper",r.setAttribute("class","pdf-wrapper"),r.appendChild(e),html2pdf().set({jsPDF:{format:"a4",orientation:"portrait"},html2canvas:{letterRendering:!0,useCORS:!0,logging:!0,scrollX:0,scrollY:0},margin:[0,-3.5,0,0],padding:0,image:{type:"jpeg",quality:.98}}).from(r).toPdf().save("Rent Receipt "+server.pdfName).then(e=>{{l["spinner-grow"].style.display="none",l["download-text"].innerHTML="Download";let e=document.querySelectorAll(`app-receipt-one .${p} .invoice`);for(;1<e.length;)e[1].parentNode.removeChild(e[1]),e=document.querySelectorAll(`app-receipt-one .${p} .invoice`);let t=document.querySelectorAll(`app-receipt-one .${p} .html2pdf__page-break`);for(;0<t.length;)t[0].parentNode.removeChild(t[0]),t=document.querySelectorAll(`app-receipt-one .${p} .html2pdf__page-break`);let r=document.querySelectorAll(`app-receipt-one .${p} .page-add`);for(;0<r.length;)r[0].parentNode.removeChild(r[0]),r=document.querySelectorAll(`app-receipt-one .${p} .page-add`)}}).catch(e=>{console.log("PDF Error "+e)}))};let r=!0,n=(S(l["renter-name"].value,"Name","Name",function(e,t){e?a["renter-name"].style.display="none":(a["renter-name"].innerHTML=t,a["renter-name"].style.display="block")}),S(l.rent.value,"Empty","Rent",function(e,t){e?a.rent.style.display="none":(a.rent.innerHTML=t,a.rent.style.display="block")}),S(l.address.value,"Empty","Address",function(e,t){e?a.address.style.display="none":(a.address.innerHTML=t,a.address.style.display="block")}),S(l["landlord-name"].value,"Name","Owner's name",function(e,t){e?a["landlord-name"].style.display="none":(a["landlord-name"].innerHTML=t,a["landlord-name"].style.display="block")}),document.querySelectorAll("app-receipt-one  .validation-message"));if(Object.keys(n).some(function(e){var t;if("block"==n[e].style.display)return t="pdfAddressError"==n[e].id?130:80,t=n[e].getBoundingClientRect().top+window.pageYOffset-t,window.scrollTo({top:t,behavior:"smooth"}),n[e].previousElementSibling.focus(),!(r=!1)}),r){var o=l["date-from"].value,c=l["date-to"].value;let e=1;document.querySelector("app-receipt-one  #monthly").checked||(e=3);o=v(o,c,e);let a=(new Date).toString();a=a.slice(4,15),o.forEach((t,e,r)=>{var n;1==r.length?(d["date-from"].forEach(e=>{e.innerHTML=f(t.start)}),d["date-to"].forEach(e=>{e.innerHTML=f(t.end)}),d["current-month"].forEach(e=>{document.querySelector(".template-2 .current-month").innerHTML=h(t.start)}),d["receipt-number"].forEach(e=>{e.innerHTML="1"}),d["generate-date"].forEach(e=>{e.innerHTML=y(a)})):0==e?(d["date-from"].forEach(e=>{e.innerHTML=f(t.start)}),d["date-to"].forEach(e=>{e.innerHTML=f(t.end)}),d["current-month"].forEach(e=>{e.innerHTML=y(t.start)}),document.querySelector("app-receipt-one .template-2 .current-month").innerHTML=h(t.start),d["receipt-number"].forEach(e=>{e.innerHTML="1"}),d["generate-date"].forEach(e=>{e.innerHTML=y(a)})):((n=document.querySelector(`app-receipt-one .${p} #invoice1`).cloneNode(!0)).id="invoice"+(e+1),document.querySelector(`app-receipt-one .${p} #receipts`).appendChild(n),document.querySelectorAll(`app-receipt-one .${p} #invoice`+(e+1)+" [data-tm='date-from']").forEach(e=>{e.innerHTML=f(t.start)}),document.querySelectorAll(`app-receipt-one .${p} #invoice`+(e+1)+" [data-tm='date-to']").forEach(e=>{e.innerHTML=f(t.end)}),document.querySelector(`app-receipt-one .${p} #invoice`+(e+1)+"  .current-month").innerHTML=y(t.start),document.querySelector(`app-receipt-one .template-2 #invoice${e+1} .current-month`)&&(document.querySelector(`app-receipt-one .template-2 #invoice${e+1} .current-month`).innerHTML=h(t.start)),(n=document.querySelector(`app-receipt-one .${p} #invoice`+(e+1)+"  .receipt-number"))&&(n.innerHTML=e+1),(n=document.querySelector(`app-receipt-one .${p} #invoice`+(e+1)+"  .generate-date"))&&(n.innerHTML=y(a)),(e+1)%3==0&&0!=e&&(g(),(n=document.createElement("div")).setAttribute("class","html2pdf__page-break"),document.querySelector(`app-receipt-one .${p} #receipts`).appendChild(n))),(e+1)%3!=0&&e+1==r.length&&g()}),t(!0,"validation done.")}else t(!1,"validation not done.")}},q=(l["download-pdf"].addEventListener("click",()=>{t()}),e=>{d["modal-body"].innerHTML="";var t=i.cloneNode(!0);d["modal-body"].appendChild(t)})};